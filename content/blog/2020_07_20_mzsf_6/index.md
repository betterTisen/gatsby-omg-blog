---
title: "ã€æ¯å‘¨ç®—æ³•ã€‘(åŒæŒ‡é’ˆéå†ç¯‡)ï¼šç¯å½¢é“¾è¡¨"
date: 2020-7-20 8:00:00
tags:
  - javascript
  - æ¯å‘¨ç®—æ³•
topImg: gzh-mzsf.png
description: "æ¥è‡ª ä¸€ä¸ªæ­ªåœ å…¬ä¼—å·æ–‡ç« ï¼Œæ¬¢è¿å¤§å®¶åœ¨æ–‡ç« ä¸‹æ–¹è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥å†™å‡ºä¸‹å‘¨é¢˜ç›®çš„è§£é¢˜æ€è·¯å“¦ï½"
---

æœ¬å‘¨æ˜¯åŒæŒ‡é’ˆéå†ç¯‡çš„ç¬¬ä¸‰ç§ï¼ˆä¹Ÿæ˜¯æœ€åä¸€ç§è§£é¢˜æ–¹æ³•ï¼‰ï¼Œå¿«æ…¢æŒ‡é’ˆï¼

ä»€ä¹ˆæ˜¯å¿«æ…¢æŒ‡é’ˆå‘¢ï¼Ÿèƒ½è§£å†³ä»€ä¹ˆæ ·å¾—åˆ°é—®é¢˜å‘¢ï¼Ÿ

å‡è®¾åœ¨ä¸€ä¸ªç¯å½¢è·‘é“ä¸Šï¼Œå°æ˜å’Œå°çº¢æ¯”èµ›è·‘æ­¥ï¼Œå‡å®šå°çº¢çš„é€Ÿåº¦å§‹ç»ˆæ¯”å°æ˜å¿«ï¼Œé‚£ä¹ˆå°çº¢æ—©æ™šä¼šè¶…è¿‡å°æ˜ä¸€åœˆå¹¶åœ¨æ­¤ç›¸é‡ã€‚

![](./2.gif)

åˆæˆ–è€…ï¼Œå°çº¢çš„é€Ÿåº¦æ˜¯å°æ˜çš„2å€ï¼Œä»–ä¿©åœ¨ç›´çº¿è·‘é“ä¸Šè·‘ï¼Œé‚£å½“å°çº¢è·‘é“é‡ç‚¹æ—¶ï¼Œå°æ˜æ­£å¥½åœ¨è·‘é“ä¸­é—´

å¿«æ…¢æŒ‡é’ˆï¼Œé¡¾åæ€ä¹‰ï¼Œå®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆä¸€å¿«ä¸€æ…¢ï¼Œå¦‚æœé“¾è¡¨æœ‰ç¯ï¼Œåˆ™å¿«æ…¢ä¸¤æŒ‡é’ˆæ—©æ™šä¼šç›¸é‡ï¼Œè¿™æ ·å°±èƒ½åˆ¤æ–­å‡ºé“¾è¡¨ä¸­æœ‰ç¯å­˜åœ¨ã€‚å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™å¿«æŒ‡é’ˆéå†å®Œé“¾è¡¨æ—¶ï¼Œæ…¢æŒ‡é’ˆæ­£å¥½åœ¨é“¾è¡¨çš„ä¸­é—´ã€‚

*æ‰€ä»¥ï¼Œç»¼ä¸Šå¯çŸ¥ï¼Œå¿«æ…¢æŒ‡é’ˆåœ¨å¤„ç†é“¾è¡¨ã€æ•°ç»„çš„è¿½å‡»é—®é¢˜æ—¶å¯ä»¥å‘æŒ¥å‡ºå®ƒçš„å¨åŠ›ï¼*

## ã€æ¯å‘¨ç®—æ³•ã€‘(åŒæŒ‡é’ˆéå†ç¯‡)ï¼šç¯å½¢é“¾è¡¨

>leetcode 141 é¢˜ï¼šç¯å½¢é“¾è¡¨
>https://leetcode-cn.com/problems/linked-list-cycle/

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚

```JavaScript
è¾“å…¥ï¼š 1 => 2 => 3 => 4 => 2
è¾“å‡ºï¼š true

è¾“å…¥ï¼š1 => 2 => 3 => 4
è¾“å‡ºï¼šfalse

/**
 * @param {ListNode} head
 * @return {boolean}
 */
var hasCycle = function(head) {};
```

## è§£ç­”è¿‡ç¨‹

### èŠ‚ç‚¹æ ‡è®°æ³•

æœ€å…ˆæƒ³åˆ°çš„åŸºç¡€æ–¹æ³•ï¼Œä¸éœ€è¦ä»»ä½•å‰ç½®çŸ¥è¯†ï¼š

æˆ‘ä»¬åªéœ€è¦éå†è¿™ä¸ªé“¾è¡¨ï¼Œåœ¨éå†è¿‡çš„æ—¶å€™ç»™èŠ‚ç‚¹æ‰“ä¸€ä¸ªtagï¼Œè¿™æ ·ï¼Œå¦‚æœéå†åˆ°å¾ªç¯ç»“æŸï¼Œé‚£è¯¥é“¾è¡¨è‡ªç„¶ä¸æ˜¯ç¯å½¢é“¾è¡¨ã€‚

åä¹‹ï¼Œå¦‚æœæˆ‘ä»¬éå†çš„æ—¶å€™é‡åˆ°äº†tagï¼Œåˆ™è¯´æ˜æˆ‘ä»¬ä¹‹å‰ä¹Ÿé‡åˆ°è¿‡å®ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å·²ç»è¿›å…¥äº†ç¯ä¸­ï¼æ•…`return true`

```javascript
var hasCycle = function(head) {
    // é“¾è¡¨é•¿åº¦å°äº2æ—¶ç›´æ¥return
    if(!head || !head.next) return false
    while(head) {
        if(head.tag) return true
        head.tag = true
        head = head.next
    }
    return false
};
```

- æ‰§è¡Œç”¨æ—¶ï¼š96 ms, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†18.67%çš„ç”¨æˆ·
- å†…å­˜æ¶ˆè€—ï¼š38.3 MB, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†33.33%çš„ç”¨æˆ·

### hashMapæ³•

ç™¾ç”¨ä¸åŒçš„hashæ³•ï¼ˆæ‰€ä»¥è¯´MapçœŸæ˜¯ä¸ªå¥½ä¸œè¥¿ğŸ’ªï¼‰ã€‚åœ¨éå†é“¾è¡¨æ—¶å­˜å‚¨éå†è¿‡çš„èŠ‚ç‚¹ï¼Œå¦‚æœMapä¸­è¯¥èŠ‚ç‚¹å­˜åœ¨ï¼Œåˆ™è¯´æ˜é“¾è¡¨ä¸­æœ‰ç¯

è¿™ç§è§£æ³•å’Œä¸Šé¢çš„å¼‚æ›²åŒå·¥ã€‚

```javascript
var hasCycle = (head) => {
    if(!head || !head.next) return false
    let map = new Map()
    while (head) {
        if (map.has(head)) return true
        map.set(head, true)
        head = head.next
    }
    return false
}
```

- æ‰§è¡Œç”¨æ—¶ï¼š80 ms, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†71.12%çš„ç”¨æˆ·
- å†…å­˜æ¶ˆè€—ï¼š38.6 MB, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†8.33%çš„ç”¨æˆ·

### å¿«æ…¢æŒ‡é’ˆ

é‡ç‚¹æ¥äº†ï¼åˆ«è¯´è¯ï¼Œçœ‹å›¾ï¼š

![](./2.gif)

```javascript
var hasCycle = function(head) {
    if(!head || !head.next) return false
    let slow = head
    let fast = head.next
    while(slow != fast){
        if(!fast || !fast.next) return false
        fast = fast.next.next
        slow = slow.next
    }
    return true
};
```

- æ‰§è¡Œç”¨æ—¶ï¼š76 ms, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†85.77%çš„ç”¨æˆ·
- å†…å­˜æ¶ˆè€—ï¼š38.3 MB, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†33.33%çš„ç”¨æˆ·

## æœ€å

è¿™æ˜¯åŒæŒ‡é’ˆéå†ç¯‡çš„æœ€åä¸€ç¯‡æ–‡ç« äº†ï¼Œè‡³æ­¤è¿™ç§è§£é¢˜æ–¹æ³•çš„ä¸‰ç§å¸¸è§é¢˜å‹æˆ‘ä»¬ä¹Ÿéƒ½åšè¿‡å•¦ã€‚åé¢æˆ‘ä¼šå¯¹å‰é¢çš„æ–‡ç« ä¸­çš„å¯¹æ’æŒ‡é’ˆã€æ»‘å—æŒ‡é’ˆã€å¿«æ…¢æŒ‡é’ˆçš„é¢˜å‹åšä¸€ç¯‡æ€»ç»“ï¼Œå†å¤ä¹ ä¸€æ¬¡ï¼ŒåŒæ—¶ç»¼åˆçš„å†è®²è§£ä¸€éã€‚

å¦å¤–ï¼Œè‡ªå·±åœ¨å…¬ä¼—å·çš„åˆ›ä½œä¹Ÿæœ‰ä¸€ä¸ªæœˆäº†ï¼Œæœ€è¿‘åœ¨æ€è€ƒæ¯å‘¨ç®—æ³•çš„å†™ä½œæ¨¡å¼æ˜¯å¦æœ‰äº›æ¯ç‡¥ï¼Œåº”è¯¥ä¼šåšä¸€æ¬¡åˆ›ä½œæ¨¡å¼çš„æœ‰è¶£æ”¹å˜ï¼Œä½†æ˜¯ä¾æ—§ä¼šä¿æŒæ¯å‘¨è‡³å°‘ä¸€ç¯‡çš„ç®—æ³•å†…å®¹è¾“å‡ºï¼Œå’Œå¤§å®¶å…±åŒå­¦ä¹ å‰ç«¯çš„æ–¹æ–¹é¢é¢ã€æ‹­ç›®ä»¥å¾…å§ï¼
