{"componentChunkName":"component---src-templates-post-js","path":"/post/2020_03_25_js_event_loop/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby OMG Blog","post":{"pageviews":true}}},"markdownRemark":{"id":"8b0c01c6-8ac7-5f8e-aa15-b14b4b3cd2f8","excerpt":"ä»€ä¹ˆæ˜¯ Event Loop å› ä¸ºä¸€å®šçš„å†å²åŸå› ï¼ŒJavaScript æ˜¯ä¸€ç§è¿è¡Œåœ¨æµè§ˆå™¨çš„è¯­è¨€ï¼Œè€Œ run in Browser æœ€é‡è¦çš„å°±æ˜¯å‡å°‘è¯­è¨€çš„è¿è¡Œæˆæœ¬ï¼Œå› ä¸º js çš„è®¾è®¡èµ·åˆæ˜¯ä¸ºäº†æ“ä½œæµè§ˆå™¨ domï¼Œå¦‚è‹¥è®¾è®¡æˆå¤šçº¿ç¨‹å¿…ç„¶ä¼šå¼•èµ·æ–‡ä»¶æ“ä½œçš„èµ„æºç«äº‰\nEvent Loopâ€¦","html":"<h2 id=\"ä»€ä¹ˆæ˜¯-event-loop\">ä»€ä¹ˆæ˜¯ Event Loop</h2>\n<p>å› ä¸ºä¸€å®šçš„å†å²åŸå› ï¼ŒJavaScript æ˜¯ä¸€ç§è¿è¡Œåœ¨æµè§ˆå™¨çš„è¯­è¨€ï¼Œè€Œ run in Browser æœ€é‡è¦çš„å°±æ˜¯å‡å°‘è¯­è¨€çš„è¿è¡Œæˆæœ¬ï¼Œå› ä¸º js çš„è®¾è®¡èµ·åˆæ˜¯ä¸ºäº†æ“ä½œæµè§ˆå™¨ domï¼Œå¦‚è‹¥è®¾è®¡æˆå¤šçº¿ç¨‹å¿…ç„¶ä¼šå¼•èµ·æ–‡ä»¶æ“ä½œçš„èµ„æºç«äº‰\n<strong>Event Loop</strong> æ˜¯ä¸€ç§è§£å†³æµè§ˆå™¨å•çº¿ç¨‹é˜»å¡çš„è§£å†³æ–¹æ¡ˆï¼Œä¹Ÿå«åšå¼‚æ­¥å¤„ç†</p>\n<h2 id=\"äº†è§£-event-loop-çš„å‰ç½®çŸ¥è¯†\">äº†è§£ Event Loop çš„å‰ç½®çŸ¥è¯†</h2>\n<h3 id=\"æ ˆ-ä¸-é˜Ÿåˆ—\">æ ˆ ä¸ é˜Ÿåˆ—</h3>\n<p>å› ä¸ºåªæ˜¯å†…å®¹ååŸºç¡€ï¼Œè¿™é‡Œä¸åšè¿‡å¤šä»‹ç»ï¼Œå¦‚æœä¸äº†è§£çš„è¯ä½ å¯ä»¥çœ‹ä¸‹<a href=\"https://www.cnblogs.com/sang-bit/p/11757553.html\">è¿™ç¯‡æ–‡ç« </a></p>\n<h3 id=\"å®ä»»åŠ¡ï¼ˆmacrotaskï¼‰ä¸-å¾®ä»»åŠ¡ï¼ˆmicrotaskï¼‰\">å®ä»»åŠ¡ï¼ˆMacroTaskï¼‰ä¸ å¾®ä»»åŠ¡ï¼ˆMicroTaskï¼‰</h3>\n<p>ç”±äº js æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œæ‰€ä»¥é€šè¿‡å¼‚æ­¥çš„æ–¹å¼è§£å†³é˜»å¡é—®é¢˜ã€‚æ•…å…¶é™¤äº†æœ‰ä¸»æ‰§è¡Œæ ˆå¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå®ä»»åŠ¡é˜Ÿåˆ—ä¸å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚</p>\n<ol>\n<li>å½“<strong>ä¸»æ‰§è¡Œæ ˆ</strong>ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œæµè§ˆå™¨ä¼šæ£€æŸ¥<strong>å¾®ä»»åŠ¡é˜Ÿåˆ—</strong>ä¸­çš„å†…å®¹ï¼Œå½“<strong>å¾®ä»»åŠ¡é˜Ÿåˆ—</strong>å­˜åœ¨ä»»åŠ¡ç‰‡æ®µæ—¶ï¼Œæ’å…¥ä¸»æ ˆï¼Œç›´åˆ°å†…å®¹ä¸ºç©ºï¼Œ</li>\n<li>æ­¤æ—¶ä¼šæ£€æŸ¥<strong>å®ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼Œå½“<strong>å®ä»»åŠ¡é˜Ÿåˆ—</strong>å­˜åœ¨ä»»åŠ¡ç‰‡æ®µæ—¶ï¼Œæ’å…¥ä¸»æ ˆï¼Œ</li>\n<li>ç„¶åå†æ£€æŸ¥<strong>å¾®ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼Œä»¥æ­¤åå¤å¾ªç¯ã€‚</li>\n</ol>\n<p>ä»¥ä¸‹æ˜¯æµè§ˆå™¨åˆ†é…ä»»åŠ¡åŸåˆ™</p>\n<ul>\n<li><strong>å®ä»»åŠ¡</strong>ï¼šåŒ…æ‹¬ js åŸºæœ¬ä»£ç ã€setTimeoutã€setInterval</li>\n<li><strong>å¾®ä»»åŠ¡</strong>ï¼šPromise</li>\n</ul>\n<h2 id=\"æµè§ˆå™¨ä¸­çš„-event-loop\">æµè§ˆå™¨ä¸­çš„ Event Loop</h2>\n<p>é€šè¿‡ä¸€ä¸ªç®€å•çš„ ğŸŒ°ï¼Œå°±èƒ½å¾ˆç›´è§‚çš„çœ‹å‡ºæµè§ˆå™¨çš„ Event Loop ç­–ç•¥</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"setTimeout1\"</span><span class=\"token punctuation\">)</span>\n  Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"promise1\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"setTimeout2\"</span><span class=\"token punctuation\">)</span>\n  Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"promise2\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// setTimeout1ï¼Œpromise1ï¼ŒsetTimeout2ï¼Œpromise2ï¼Œ</span></code></pre></div>\n<p>è¿™æ˜¯å›¾ä¾‹\n<img src=\"/d1ca0d6b13501044a5f74c99becbcd3d/1.gif\" alt=\"å›¾ç‰‡\"></p>\n<p>å¦‚æœä½ æƒ³æ·±å…¥äº†è§£ æµè§ˆå™¨ æˆ–è€… nodejs çš„äº‹ä»¶è½®è¯¢æœºåˆ¶ï¼Œå¯ä»¥é˜…è¯»<a href=\"https://juejin.im/post/5c3d8956e51d4511dc72c200?utm_source=gold_browser_extension#heading-7\">è¿™ç¯‡æ–‡ç« </a></p>","headings":[{"value":"ä»€ä¹ˆæ˜¯ Event Loop","depth":2},{"value":"äº†è§£ Event Loop çš„å‰ç½®çŸ¥è¯†","depth":2},{"value":"æ ˆ ä¸ é˜Ÿåˆ—","depth":3},{"value":"å®ä»»åŠ¡ï¼ˆMacroTaskï¼‰ä¸ å¾®ä»»åŠ¡ï¼ˆMicroTaskï¼‰","depth":3},{"value":"æµè§ˆå™¨ä¸­çš„ Event Loop","depth":2}],"frontmatter":{"title":"10åˆ†é’Ÿäº†è§£æµè§ˆå™¨çš„Event Loop","date":"March 25, 2020","description":null,"tags":["web","javascript","node"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/post/2020_03_25_js_event_loop/","previous":{"fields":{"slug":"/post/2020_01_20_omg_blog_doc/"},"frontmatter":{"title":"OMGï¼ç®€çº¦è‡³ä¸Šçš„åšå®¢ä¸»é¢˜"}},"next":{"fields":{"slug":"/post/2020_04_21_js_ast/"},"frontmatter":{"title":"æ–°ç“¶æ—§é…’ï¼šå¦‚ä½•ç”¨jså†™ä¸€ä¸ªjsè§£é‡Šå™¨"}}}}}